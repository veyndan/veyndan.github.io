<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="../node_modules/modern-normalize/modern-normalize.css">
    <link rel="stylesheet" href="../spiffy/spiffy.css">
</head>

<style>
    html {
        /*background: white;*/
    }

    ul {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(72px , 1fr));
        /*place-items: center;*/
        gap: 37px 5px;
        padding: 0 24px;
        list-style-type: none;
        /*margin-top: 98px;*/
        /*background: green;*/
    }

    li {
        aspect-ratio: 1;
    }

    li > a {
        height: 100%;
        width: 100%;
        display: flex;
        gap: 12px;
        /*place-items: center;*/
        align-items: center;
        justify-content: center;
        flex-direction: column;
        color: black;
        text-align: center;
        text-underline: none;
        text-decoration: none;
        /*background: blue;*/
    }

    li > a > img {
        width: auto;
        height: 56px;
        /*background: pink;*/
    }

    li > a > span {
        font-size: .8em;
    }
</style>

<body>
<!-- Deep link to my launcher, then it can send off an intent to the requested app. -->
<main>
    <ul>
    </ul>
</main>

<script type="text/javascript">
    (function () {
        const apps = JSON.parse(Android.getFromAndroid());
        const ul = document.getElementsByTagName("ul")[0];
        apps.forEach(app => {
            const li = document.createElement("li");
            const a = document.createElement("a")
            a.href = app["packageNameUrl"]
            const img = document.createElement("img")
            img.src = app["iconUrl"]
            a.appendChild(img)
            const span = document.createElement("span")
            span.innerText = app["label"]
            a.appendChild(span);
            li.appendChild(a)
            ul.appendChild(li);
        });
    })();
</script>

</body>
</html>
